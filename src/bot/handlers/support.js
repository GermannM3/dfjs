const handleSupport = async (msg) => {
  const chatId = msg.chat.id;
  
  try {
    const message = 
      'üìû –°–ª—É–∂–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ DrillFlow\n\n' +
      '1Ô∏è‚É£ –î–ª—è —Å–≤—è–∑–∏ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –Ω–∞–ø–∏—à–∏—Ç–µ @Sherstikbot\n\n' +
      '2Ô∏è‚É£ –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã:\n' +
      '- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª—å\n' +
      '- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏\n' +
      '- –û–ø–ª–∞—Ç–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–¥–µ–ª–æ–∫\n\n' +
      '‚ö°Ô∏è –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: 24/7\n' +
      '‚è± –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 5-15 –º–∏–Ω—É—Ç';

    const keyboard = {
      reply_markup: {
        inline_keyboard: [
          [
            { text: 'üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è', callback_data: 'faq_registration' },
            { text: 'üìã –ó–∞–∫–∞–∑—ã', callback_data: 'faq_orders' }
          ],
          [
            { text: 'üí≥ –û–ø–ª–∞—Ç–∞', callback_data: 'faq_payment' },
            { text: 'üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å', callback_data: 'faq_security' }
          ],
          [
            { text: 'üë®‚Äçüíª –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π', url: 'https://t.me/Sherstikbot' }
          ]
        ]
      }
    };

    await bot.sendMessage(chatId, message, keyboard);
  } catch (error) {
    console.error('Support handler error:', error);
    await bot.sendMessage(
      chatId,
      '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é @Sherstikbot'
    );
  }
};

const handleFaqRegistration = async (msg) => {
  const chatId = msg.chat.id;
  
  const message = 
    'üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ:\n\n' +
    '1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è" –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é\n' +
    '2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞ (–∫–ª–∏–µ–Ω—Ç/–ø–æ–¥—Ä—è–¥—á–∏–∫)\n' +
    '3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ\n\n' +
    '‚ùóÔ∏è –î–ª—è –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:\n' +
    '- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏\n' +
    '- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏\n' +
    '- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\n\n' +
    '‚ö°Ô∏è –í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏: –¥–æ 24 —á–∞—Å–æ–≤';

  await bot.sendMessage(chatId, message);
};

const handleFaqOrders = async (msg) => {
  const chatId = msg.chat.id;
  
  const message = 
    'üìã –†–∞–±–æ—Ç–∞ —Å –∑–∞–∫–∞–∑–∞–º–∏:\n\n' +
    '1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞:\n' +
    '- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ä–∞–±–æ—Ç\n' +
    '- –£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å\n' +
    '- –û–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É\n\n' +
    '2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏:\n' +
    '- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞\n' +
    '- –û–±—â–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º\n' +
    '- –û–ø–ª–∞—Ç–∞ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ\n\n' +
    '‚ùóÔ∏è –û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞ –≤–æ–∑–º–æ–∂–Ω–∞ –¥–æ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç';

  await bot.sendMessage(chatId, message);
};

module.exports = {
  handleSupport,
  handleFaqRegistration,
  handleFaqOrders
}; 